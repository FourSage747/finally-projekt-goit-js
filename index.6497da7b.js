var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r),r.register("PqWVr",(function(e,t){var n,r,o,i;n=e.exports,r="displayFilms",o=function(){return u},Object.defineProperty(n,r,{get:o,set:i,enumerable:!0,configurable:!0});const l=document.querySelector(".gallery_film"),a=(document.querySelector(".pagination"),document.querySelector(".search-form")),s=document.querySelector(".p"),c="51543c3005cb7c47e497dbf65a114fb5";let d=1,p="";function u(e){let t="";t=p?`https://api.themoviedb.org/3/search/movie?api_key=${c}&page=${e}&query=${p}`:`https://api.themoviedb.org/3/movie/popular?api_key=${c}&page=${e}`,fetch(t).then((e=>e.json())).then((e=>{0!==e.results.length?(s.style.display="none",l.innerHTML="",fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${c}`).then((e=>e.json())).then((t=>{const n=new Map;t.genres.forEach((e=>{n.set(e.id,e.name)}));const r=e.results.map((e=>{const t=e.genre_ids.map((e=>n.get(e)));return{...e,genres:t}}));l.innerHTML=r.map((({poster_path:e,title:t,release_date:n,id:r,genres:o})=>{const i=new Date(n).getFullYear();return`\n      <div class="film" id="${r}">\n        <img src="https://image.tmdb.org/t/p/w500/${e}" alt="${t}">\n        <h1>${t}</h1>\n        <p><span>${o.join(", ")}</span>${i}</p>\n      </div>`})).join(""),console.log(e)})).catch((e=>console.error("error:"+e)))):s.style.display="block"})).catch((e=>console.error("error:"+e)))}localStorage.clear(),a.addEventListener("submit",(e=>{e.preventDefault(),p=a.elements.searchQuery.value,d=1,h.textContent=d,u(d)}));const g=document.getElementById("prevPageBtn"),m=document.getElementById("nextPageBtn"),h=document.getElementById("currentPage");g.addEventListener("click",(()=>{d>1&&(d-=1,h.textContent=d,u(d),window.scrollTo({top:0,behavior:"smooth"}))})),m.addEventListener("click",(()=>{d+=1,h.textContent=d,u(d),window.scrollTo({top:0,behavior:"smooth"})})),u(d)})),r("PqWVr");
//# sourceMappingURL=index.6497da7b.js.map
