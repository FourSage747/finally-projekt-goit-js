{"mappings":"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","sources":["src/Home.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@swc/helpers/lib/_define_property.js"],"sourcesContent":["const films = document.querySelector('.gallery_film');\nconst pagination = document.querySelector('.pagination');\nconst form = document.querySelector('.search-form');\nconst search_error = document.querySelector('.p');\nconst key = '51543c3005cb7c47e497dbf65a114fb5';\nconst moviesUrl = 'https://api.themoviedb.org/3/movie/popular';\nconst genresUrl = 'https://api.themoviedb.org/3/genre/movie/list';\nconst keywordUrl = 'https://api.themoviedb.org/3/search/movie';\nlet currentPage = 1;\nlet searchKeyword = '';\n\nform.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  searchKeyword = form.elements.searchQuery.value;\n  currentPage = 1;\n  currentPageSpan.textContent = currentPage;\n  displayFilms(currentPage);\n});\n// Запит для отримання списку фільмів\nexport function displayFilms(page) {\n  let apiUrl = '';\n  if (searchKeyword) {\n    apiUrl = `${keywordUrl}?api_key=${key}&page=${page}&query=${searchKeyword}`;\n  } else {\n    apiUrl = `${moviesUrl}?api_key=${key}&page=${page}`;\n  }\n\n  fetch(apiUrl)\n    .then((res) => res.json())\n    .then((moviesData) => {\n      if(moviesData.results.length === 0) {\n        search_error.style.display = 'block';\n        return;\n      }\n      search_error.style.display = 'none';\n      films.innerHTML = '';\n      // Запит для отримання списку жанрів\n      fetch(`${genresUrl}?api_key=${key}`)\n        .then((res) => res.json())\n        .then((genresData) => {\n          const genresMap = new Map(); // Створюємо мапу для збереження жанрів\n          genresData.genres.forEach((genre) => {\n            genresMap.set(genre.id, genre.name);\n          });\n\n          const filmsWithGenres = moviesData.results.map((movie) => {\n            const movieGenres = movie.genre_ids.map((genreId) => genresMap.get(genreId));\n            return { ...movie, genres: movieGenres };\n          });\n\n          films.innerHTML = createCards(filmsWithGenres);\n          console.log(moviesData);\n        })\n        .catch((err) => console.error('error:' + err));\n    })\n    .catch((err) => console.error('error:' + err));\n}\n\nfunction createCards(arr) {\n  return arr\n    .map(\n      ({ poster_path, title, release_date, id, genres }) => {\n      const movieYear = new Date(release_date).getFullYear();\n      return`\n      <div class=\"film\" id=\"${id}\">\n        <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${title}\">\n        <h1>${title}</h1>\n        <p><span>${genres.join(', ')}</span>${movieYear}</p>\n      </div>`;\n    })\n    .join('');\n}\n\n// Отримання кнопок пагінації та обробка їх кліків\nconst prevPageBtn = document.getElementById('prevPageBtn');\nconst nextPageBtn = document.getElementById('nextPageBtn');\nconst currentPageSpan = document.getElementById('currentPage');\n\nprevPageBtn.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage -= 1;\n    currentPageSpan.textContent = currentPage;\n    displayFilms(currentPage);\n\n    // Прокручуємо сторінку до верху\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth' // Зробить прокрутку плавною\n    });\n  }\n});\n\nnextPageBtn.addEventListener('click', () => {\n  currentPage += 1;\n  currentPageSpan.textContent = currentPage;\n  displayFilms(currentPage);\n\n  // Прокручуємо сторінку до верху\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth' // Зробить прокрутку плавною\n  });\n});\n\n// Виводимо фільми на першу сторінку при завантаженні сторінки\ndisplayFilms(currentPage);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n"],"names":["$dDDEV","parcelRequire","$456ded92c07f2d81$var$films","document","querySelector","$456ded92c07f2d81$var$form","$456ded92c07f2d81$var$search_error","$456ded92c07f2d81$var$key","$456ded92c07f2d81$var$currentPage","$456ded92c07f2d81$var$searchKeyword","$456ded92c07f2d81$export$6125a8b48e0b4dbc","page","apiUrl","concat","fetch","then","res","json","moviesData","results","length","style","display","innerHTML","genresData","genresMap","Map","genres","forEach","genre","set","id","name","filmsWithGenres","map","movie","movieGenres","genre_ids","genreId","get","$parcel$interopDefault","param","poster_path","title","release_date","movieYear","Date","getFullYear","join","console","log","catch","err","error","addEventListener","evt","preventDefault","elements","searchQuery","value","$456ded92c07f2d81$var$currentPageSpan","textContent","$456ded92c07f2d81$var$prevPageBtn","getElementById","$456ded92c07f2d81$var$nextPageBtn","window","scrollTo","top","behavior","Object","defineProperty","module","exports","default","target","i","arguments","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","key","$9eddae5a012cde57$var$_defineProperty","obj","__esModule","configurable","writable"],"version":3,"file":"index.93d9c2b9.js.map"}