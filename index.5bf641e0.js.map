{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAQC,SAASC,cAAc,iBAC/BC,EAAKF,SAASC,cAAc,OAC5BE,EAAQH,SAASI,iBAAiB,WAElCC,EAAaL,SAASC,cAAc,aACpCK,EAASN,SAASC,cAAc,UAChCM,EAAQP,SAASC,cAAc,QAC/BO,EAAgBR,SAASC,cAAc,OAwD7C,SAASQ,GAAgBC,YAAEA,EAAWC,MAAEA,EAAKC,aAAEA,EAAYC,GAAEA,EAAEC,OAAEA,IAC7D,MAAMC,EAAY,IAAIC,KAAKJ,GAAcK,cACzC,MAAO,iCACmBJ,0DACsBH,WAAqBC,oBAC3DA,4BACKG,EAAO,GAAGI,cAAcH,qB,CA3D3Cb,EAAGiB,iBAAiB,SAASC,MAAOC,IAEhC,GADAA,EAAIC,iBACwB,MAAxBD,EAAIE,OAAOC,WAGXH,EAAIE,OAAOE,QAAQ,SAMvB,GAHAtB,EAAMuB,SAAQC,IACVA,EAAKC,UAAUC,OAAO,OAAO,IAEY,eAAzCR,EAAIE,OAAOO,YAAYC,cAAgC,CAMvD,GALAzB,EAAOsB,UAAUI,IAAI,aACrBzB,EAAM0B,MAAMC,WAAa,SACzB7B,EAAW4B,MAAME,QAAU,OAC3BpC,EAAMqC,UAAY,GAES,IAAxBC,aAAaC,OAEZ,YADA9B,EAAcyB,MAAME,QAAU,SAGlC3B,EAAcyB,MAAME,QAAU,OAC9B,IAAII,EAAgB,GAEpB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,aAAaC,OAAQE,GAAK,EAAG,CAC7C,MAAM3B,EAAKwB,aAAaI,IAAID,GACtBE,EAAQL,aAAaM,QAAQ9B,GACnC+B,QAAQC,IAAI,SAAChC,gBAAe6B,KAChB,MAANI,EAAS,sCAAsCJ,6CAErD,IACI,MAAMK,QAAiBC,MAAMF,GAC7B,IAAKC,EAASE,GACV,MAAM,IAAIC,MAAM,yBAIpBX,GAAiB9B,QADEsC,EAASI,QAE5BpD,EAAMqC,UAAYG,C,CACpB,MAAOa,GACLR,QAAQQ,MAAM,yBAA0BA,E,QAIhD9C,EAAOsB,UAAUyB,OAAO,aACxB9C,EAAM0B,MAAMC,WAAa,UACzB1B,EAAcyB,MAAME,QAAU,QAC9B,EAAAtC,EAAAyD,cAjDU,GAkDVjD,EAAW4B,MAAME,QAAU,O","sources":["src/MyLibrary.js"],"sourcesContent":["import { displayFilms } from './Home';\nconst films = document.querySelector('.gallery_film');\nconst ul = document.querySelector('.ul');\nconst menuA = document.querySelectorAll('.menu_a');\nconst key = '51543c3005cb7c47e497dbf65a114fb5';\nconst pagination = document.querySelector('.section1');\nconst header = document.querySelector('header');\nconst input = document.querySelector('.div');\nconst messege_error = document.querySelector('.p1');\nlet currentPage = 1;\n\nul.addEventListener('click', async (evt) => {\n    evt.preventDefault();\n    if (evt.target.nodeName !== \"A\") {\n        return;\n    }\n    if (evt.target.closest('.js_a')) {\n        return;\n    }\n    menuA.forEach(menA => {\n        menA.classList.toggle(\"js_a\");\n    });\n    if (evt.target.textContent.toLowerCase() === \"my library\") {\n        header.classList.add(\"mylibrary\");\n        input.style.visibility = 'hidden';\n        pagination.style.display = 'none';\n        films.innerHTML = '';\n\n        if(localStorage.length === 0) {\n            messege_error.style.display = 'block';\n            return;\n        }\n        messege_error.style.display = 'none';\n        let allMoviesHtml = ''; \n        \n        for (let i = 0; i < localStorage.length; i += 1) {\n            const id = localStorage.key(i);\n            const value = localStorage.getItem(id);\n            console.log(`Ключ: ${id}, Значення: ${value}`);\n            const apiUrl = `https://api.themoviedb.org/3/movie/${value}?api_key=${key}`;\n\n            try {\n                const response = await fetch(apiUrl);\n                if (!response.ok) {\n                    throw new Error('Помилка запиту до API');\n                }\n\n                const data = await response.json();\n                allMoviesHtml += createMyLibrary(data);\n                films.innerHTML = allMoviesHtml; \n            } catch (error) {\n                console.error('Помилка запиту до API:', error);\n            }\n        }\n    } else {\n        header.classList.remove(\"mylibrary\");\n        input.style.visibility = 'visible';\n        messege_error.style.display = 'none';\n        displayFilms(currentPage);\n        pagination.style.display = 'block';\n    }\n    \n});\n\nfunction createMyLibrary({ poster_path, title, release_date, id, genres }) {\n    const movieYear = new Date(release_date).getFullYear();\n    return `\n      <div class=\"film\" id=\"${id}\">\n        <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${title}\">\n        <h1>${title}</h1>\n        <p><span>${genres[0].name}</span>${movieYear}</p>\n      </div>`;\n}\n\n"],"names":["$PqWVr","parcelRequire","$e4fc7cce5e2a14b1$var$films","document","querySelector","$e4fc7cce5e2a14b1$var$ul","$e4fc7cce5e2a14b1$var$menuA","querySelectorAll","$e4fc7cce5e2a14b1$var$pagination","$e4fc7cce5e2a14b1$var$header","$e4fc7cce5e2a14b1$var$input","$e4fc7cce5e2a14b1$var$messege_error","$e4fc7cce5e2a14b1$var$createMyLibrary","poster_path","title","release_date","id","genres","movieYear","Date","getFullYear","name","addEventListener","async","evt","preventDefault","target","nodeName","closest","forEach","menA","classList","toggle","textContent","toLowerCase","add","style","visibility","display","innerHTML","localStorage","length","allMoviesHtml","i","key","value","getItem","console","log","apiUrl","response","fetch","ok","Error","json","error","remove","displayFilms"],"version":3,"file":"index.5bf641e0.js.map"}