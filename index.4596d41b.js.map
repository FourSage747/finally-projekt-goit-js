{"mappings":"YAAA,IAAMA,EAAQC,SAASC,cAAc,iBAC/BC,EAAQF,SAASC,cAAc,UAC/BE,EAAOH,SAASC,cAAc,UAC9BG,EAAWJ,SAASC,cAAc,aAClCI,EAAM,mCAqCZ,SAASC,IACLJ,EAAMK,UAAUC,OAAO,O,CApC3BT,EAAMU,iBAAiB,SAAS,SAACC,GAC7B,GAA4B,QAAxBA,EAAIC,OAAOC,SAAf,CAGAN,IACAF,EAASS,UAAY,GACrB,IAAMC,EAAcJ,EAAIC,OAAOI,QAAQ,SACjCC,EAAUF,EAAYG,GACtBC,EAAS,sCAAyDC,OAAnBH,EAAQ,aAAeG,OAAJd,GAClEe,EAAW,sCAAgED,OAA1BH,EAAQ,oBAAsBG,OAAJd,GACjFgB,MAAMH,GACDI,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACFJ,MAAMD,GACDE,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAI,GACF,IA4CEC,EAAgGC,EAA9FC,EAAaC,EAAOC,EAAcC,EAAYC,EAAYC,EAAgBC,EACxFC,EA7CgBC,EAASX,EAAMY,QAAQC,MAAK,SAASX,GACvC,MAAwB,YAAjBA,EAAQY,I,IAEbC,EAAUJ,EAAOK,IACvBtC,EAASS,WAwCyFe,EAxC3Da,EAwCnCZ,GAAFF,EAxC+BF,GAwC7BI,YAAaC,EAAfH,EAAeG,MAAOC,EAAtBJ,EAAsBI,aAAcC,EAApCL,EAAoCK,WAAYC,EAAhDN,EAAgDM,WAAYC,EAA5DP,EAA4DO,eAAgBC,EAA5ER,EAA4EQ,SACxFC,EADYT,EAAsFgB,OACnF,GAAGC,KACjB,uDAC8DzB,OAArBU,EAAY,WAE9CV,OAFuDW,EAAM,yDAWrDX,OATRW,EAAM,gTASoBX,OAAlBY,EAAa,OACbZ,OADkBa,EAAW,mCAE7Bb,OADAc,EAAW,mCAEXd,OADAe,EAAe,mCAKxBf,OAJSiB,EAAM,qGAOiCjB,OAHhDgB,EAAS,0KAG+ChB,OAARS,EAAQ,sDA7CzE,SAAoBiB,EAAS/B,EAAaE,GAC3B8B,aAAaC,QAAQ/B,KAE5BF,EAAYP,UAAUyC,IAAI,cAC1BH,EAAQtC,UAAUyC,IAAI,UACtBH,EAAQI,YAAc,0BAE1BJ,EAAQpC,iBAAiB,SAAS,WAC9BoC,EAAQtC,UAAUC,OAAO,UACzBM,EAAYP,UAAUC,OAAO,cACzBM,EAAYC,QAAQ,gBACpB8B,EAAQI,YAAc,yBACtBH,aAAaI,QAAQlC,EAASA,KAG9B6B,EAAQI,YAAc,oBACtBH,aAAaK,WAAWnC,G,IAjChBoC,CADgBpD,SAASC,cAAc,eACpBa,EAAaE,GAChCqC,QAAQC,IAAItC,E,IAEfuC,OAAM,SAAAC,GACHH,QAAQG,MAAM,yBAAyCA,E,OAGlED,OAAM,SAAAC,GACHH,QAAQG,MAAM,yBAA0BA,E,GA5B5C,C,IA+BRrD,EAAKM,iBAAiB,QAASH,E","sources":["src/Modal.js"],"sourcesContent":["const films = document.querySelector('.gallery_film');\nconst modal = document.querySelector('.modal');\nconst clos = document.querySelector('.close');\nconst modal_wd = document.querySelector('.modal_wd');\nconst key = '51543c3005cb7c47e497dbf65a114fb5';\n\nfilms.addEventListener('click', (evt) => {\n    if (evt.target.nodeName !== \"IMG\") {\n        return;\n    }\n    wind();\n    modal_wd.innerHTML = '';\n    const filmElement = evt.target.closest('.film');\n    const movieId = filmElement.id;\n    const apiUrl = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${key}`;\n    const videoUrl = `https://api.themoviedb.org/3/movie/${movieId}/videos?api_key=${key}`;\n    fetch(apiUrl)\n        .then(response => response.json())\n        .then(data => {\n            fetch(videoUrl)\n                .then(response => response.json())\n                .then(video => {\n                    const result = video.results.find(function(element) {\n                        return element.type === \"Trailer\";\n                      });\n                    const element = result.key;\n                    modal_wd.innerHTML = createModal(data, element);\n                    const library = document.querySelector('.add_remove')\n                    AddRemove(library, filmElement, movieId);\n                    console.log(movieId);\n                })\n                .catch(error => {\n                    console.error('Помилка запиту до API:', error);\n                });\n        })\n        .catch(error => {\n            console.error('Помилка запиту до API:', error);\n        });\n});\nclos.addEventListener('click', wind);\n\nfunction wind () {\n    modal.classList.toggle(\"open\");\n}\n\nfunction AddRemove (library, filmElement, movieId) {\n    const id = localStorage.getItem(movieId);\n    if (id) {\n        filmElement.classList.add(\"my_library\");\n        library.classList.add(\"active\");\n        library.textContent = \"remove from my library\";\n    }\n    library.addEventListener('click', () => {\n        library.classList.toggle(\"active\");\n        filmElement.classList.toggle(\"my_library\");\n        if (filmElement.closest('.my_library')) {\n            library.textContent = \"remove from my library\";\n            localStorage.setItem(movieId, movieId);\n        }\n        else {\n            library.textContent = \"add to my library\";\n            localStorage.removeItem(movieId);\n        }\n    });\n}\n\nfunction createModal ({ poster_path, title, vote_average, vote_count, popularity, original_title, overview, genres }, element) {\n    const genre = genres[0].name;\n    return `\n        <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${title}\">\n        <div class=\"modal_wd1\">\n            <h1>${title}</h1>\n            <div class=\"modal_wd2\">\n                <ul>\n                    <li>Vote / Votes</li>\n                    <li>Popularity</li>\n                    <li>Original Title</li>\n                    <li>Genre</li>\n                </ul>\n                <ul>\n                    <li>${vote_average} / ${vote_count}</li>\n                    <li>${popularity}</li>\n                    <li>${original_title}</li>\n                    <li>${genre}</li>\n                </ul>\n            </div>\n            <span>About</span>\n            <p>${overview}</p>\n            <button type=\"button\" class=\"add_remove\">add to my library</button>\n        </div>\n        <iframe width=\"240\" src=\"https://www.youtube.com/embed/${element}\" frameborder=\"0\" allowfullscreen></iframe>\n    `;\n}"],"names":["$9e461035efe8f153$var$films","document","querySelector","$9e461035efe8f153$var$modal","$9e461035efe8f153$var$clos","$9e461035efe8f153$var$modal_wd","$9e461035efe8f153$var$key","$9e461035efe8f153$var$wind","classList","toggle","addEventListener","evt","target","nodeName","innerHTML","filmElement","closest","movieId","id","apiUrl","concat","videoUrl","fetch","then","response","json","data","video","param","element","poster_path","title","vote_average","vote_count","popularity","original_title","overview","genre","result","results","find","type","element1","key","genres","name","library","localStorage","getItem","add","textContent","setItem","removeItem","$9e461035efe8f153$var$AddRemove","console","log","catch","error"],"version":3,"file":"index.4596d41b.js.map"}