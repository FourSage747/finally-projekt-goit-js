!function(){var t=document.querySelector(".gallery_film"),e=document.querySelector(".modal"),n=document.querySelector(".close"),o=document.querySelector(".modal_wd"),c="51543c3005cb7c47e497dbf65a114fb5";function i(){e.classList.toggle("open")}t.addEventListener("click",(function(t){if("IMG"===t.target.nodeName){i(),o.innerHTML="";var e=t.target.closest(".film"),n=e.id,a="https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(c),l="https://api.themoviedb.org/3/movie/".concat(n,"/videos?api_key=").concat(c);fetch(a).then((function(t){return t.json()})).then((function(t){fetch(l).then((function(t){return t.json()})).then((function(c){var i,a,l,r,s,d,m,u,y,v,f=c.results.find((function(t){return"Trailer"===t.type})),g=f.key;o.innerHTML=(a=g,l=(i=t).poster_path,r=i.title,s=i.vote_average,d=i.vote_count,m=i.popularity,u=i.original_title,y=i.overview,v=i.genres[0].name,'\n        <img src="https://image.tmdb.org/t/p/w500/'.concat(l,'" alt="').concat(r,'">\n        <div class="modal_wd1">\n            <h1>').concat(r,'</h1>\n            <div class="modal_wd2">\n                <ul>\n                    <li>Vote / Votes</li>\n                    <li>Popularity</li>\n                    <li>Original Title</li>\n                    <li>Genre</li>\n                </ul>\n                <ul>\n                    <li>').concat(s," / ").concat(d,"</li>\n                    <li>").concat(m,"</li>\n                    <li>").concat(u,"</li>\n                    <li>").concat(v,"</li>\n                </ul>\n            </div>\n            <span>About</span>\n            <p>").concat(y,'</p>\n            <button type="button" class="add_remove">add to my library</button>\n        </div>\n        <iframe width="240" src="https://www.youtube.com/embed/').concat(a,'" frameborder="0" allowfullscreen></iframe>\n    ')),function(t,e,n){localStorage.getItem(n)&&(e.classList.add("my_library"),t.classList.add("active"),t.textContent="remove from my library");t.addEventListener("click",(function(){t.classList.toggle("active"),e.classList.toggle("my_library"),e.closest(".my_library")?(t.textContent="remove from my library",localStorage.setItem(n,n)):(t.textContent="add to my library",localStorage.removeItem(n))}))}(document.querySelector(".add_remove"),e,n),console.log(n)})).catch((function(t){console.error("Помилка запиту до API:",t)}))})).catch((function(t){console.error("Помилка запиту до API:",t)}))}})),n.addEventListener("click",i)}();
//# sourceMappingURL=index.4596d41b.js.map
