!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o.register("5Xzpj",(function(t,n){var r,c,i,a;r=t.exports,c="displayFilms",i=function(){return m},Object.defineProperty(r,c,{get:i,set:a,enumerable:!0,configurable:!0});var u=o("dDDEV"),l=document.querySelector(".gallery_film"),s=(document.querySelector(".pagination"),document.querySelector(".search-form")),d=document.querySelector(".p"),f="51543c3005cb7c47e497dbf65a114fb5",p=1,g="";function m(t){var n="";n=g?"".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(f,"&page=").concat(t,"&query=").concat(g):"".concat("https://api.themoviedb.org/3/movie/popular","?api_key=").concat(f,"&page=").concat(t),fetch(n).then((function(e){return e.json()})).then((function(t){0!==t.results.length?(d.style.display="none",l.innerHTML="",fetch("".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat(f)).then((function(e){return e.json()})).then((function(n){var r=new Map;n.genres.forEach((function(e){r.set(e.id,e.name)}));var o=t.results.map((function(t){var n=t.genre_ids.map((function(e){return r.get(e)}));return e(u)({},t,{genres:n})}));l.innerHTML=o.map((function(e){var t=e.poster_path,n=e.title,r=e.release_date,o=e.id,c=e.genres,i=new Date(r).getFullYear();return'\n      <div class="film" id="'.concat(o,'">\n        <img src="https://image.tmdb.org/t/p/w500/').concat(t,'" alt="').concat(n,'">\n        <h1>').concat(n,"</h1>\n        <p><span>").concat(c.join(", "),"</span>").concat(i,"</p>\n      </div>")})).join(""),console.log(t)})).catch((function(e){return console.error("error:"+e)}))):d.style.display="block"})).catch((function(e){return console.error("error:"+e)}))}s.addEventListener("submit",(function(e){e.preventDefault(),g=s.elements.searchQuery.value,p=1,y.textContent=p,m(p)}));var h=document.getElementById("prevPageBtn"),v=document.getElementById("nextPageBtn"),y=document.getElementById("currentPage");h.addEventListener("click",(function(){p>1&&(p-=1,y.textContent=p,m(p),window.scrollTo({top:0,behavior:"smooth"}))})),v.addEventListener("click",(function(){p+=1,y.textContent=p,m(p),window.scrollTo({top:0,behavior:"smooth"})})),m(p)})),o.register("dDDEV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r.default(e,t,n[t])}))}return e};var n,r=(n=o("hKHmD"))&&n.__esModule?n:{default:n}})),o.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),o("5Xzpj")}();
//# sourceMappingURL=index.93d9c2b9.js.map
