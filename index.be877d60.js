const e=document.querySelector(".gallery_film"),t=document.querySelector(".modal"),o=document.querySelector(".close"),n=document.querySelector(".modal_wd");function l(){t.classList.toggle("open")}e.addEventListener("click",(e=>{if("IMG"!==e.target.nodeName)return;l(),n.innerHTML="";const t=e.target.closest(".film"),o=t.id,r=`https://api.themoviedb.org/3/movie/${o}/videos?api_key=51543c3005cb7c47e497dbf65a114fb5`;fetch(`https://api.themoviedb.org/3/movie/${o}?api_key=51543c3005cb7c47e497dbf65a114fb5`).then((e=>e.json())).then((e=>{fetch(r).then((e=>e.json())).then((l=>{const r=l.results.find((function(e){return"Trailer"===e.type})).key;n.innerHTML=function({poster_path:e,title:t,vote_average:o,vote_count:n,popularity:l,original_title:r,overview:i,genres:a},c){const s=a[0].name;return`\n        <img src="https://image.tmdb.org/t/p/w500/${e}" alt="${t}">\n        <div class="modal_wd1">\n            <h1>${t}</h1>\n            <div class="modal_wd2">\n                <ul>\n                    <li>Vote / Votes</li>\n                    <li>Popularity</li>\n                    <li>Original Title</li>\n                    <li>Genre</li>\n                </ul>\n                <ul>\n                    <li>${o} / ${n}</li>\n                    <li>${l}</li>\n                    <li>${r}</li>\n                    <li>${s}</li>\n                </ul>\n            </div>\n            <span>About</span>\n            <p>${i}</p>\n            <button type="button" class="add_remove">add to my library</button>\n        </div>\n        <iframe width="240" src="https://www.youtube.com/embed/${c}" frameborder="0" allowfullscreen></iframe>\n    `}(e,r);!function(e,t,o){localStorage.getItem(o)&&(t.classList.add("my_library"),e.classList.add("active"),e.textContent="remove from my library");e.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("my_library"),t.closest(".my_library")?(e.textContent="remove from my library",localStorage.setItem(o,o)):(e.textContent="add to my library",localStorage.removeItem(o))}))}(document.querySelector(".add_remove"),t,o),console.log(o)})).catch((e=>{console.error("Помилка запиту до API:",e)}))})).catch((e=>{console.error("Помилка запиту до API:",e)}))})),o.addEventListener("click",l);
//# sourceMappingURL=index.be877d60.js.map
